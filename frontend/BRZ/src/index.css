@import "tailwindcss";
@plugin "tailwindcss-animate";

:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
}

body {
  @apply bg-slate-50 text-slate-900 antialiased;
}

@layer utilities {
  .focus-gov {
    @apply focus:outline-none focus-visible:ring-4 focus-visible:ring-yellow-400 focus-visible:ring-offset-2;
  }
}

/* ==========================================================================
   ZASADY OGÓLNE DLA TRYBÓW KONTRASTOWYCH
   ========================================================================== */

body:not(.theme-normal) img,
body:not(.theme-normal) video {
  filter: grayscale(100%) contrast(120%) !important;
}

body:not(.theme-normal) svg {
  stroke: currentColor !important;
  fill: none !important;
  color: inherit !important;
}

body:not(.theme-normal) input,
body:not(.theme-normal) select,
body:not(.theme-normal) textarea,
body:not(.theme-normal) button {
  border-width: 2px !important;
  border-style: solid !important;
  box-shadow: none !important;
}

/* -----------------------------------------------------------
   TRYB 1: ŻÓŁTY NA CZARNYM (theme-yellow-black)
----------------------------------------------------------- */
body.theme-yellow-black {
  background-color: #000000 !important;
  color: #ffff00 !important;
}

body.theme-yellow-black * {
  background-color: #000000 !important;
  color: #ffff00 !important;
  border-color: #ffff00 !important;
}

/* Focus */
body.theme-yellow-black *:focus-visible {
  outline: 4px solid #ffff00 !important;
  outline-offset: 4px !important;
}

/* -----------------------------------------------------------
   TRYB 2: CZARNY NA ŻÓŁTYM (theme-black-yellow)
----------------------------------------------------------- */
body.theme-black-yellow {
  background-color: #ffff00 !important;
  color: #000000 !important;
}

body.theme-black-yellow * {
  background-color: #ffff00 !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* Focus (Czarny na żółtym tle) */
body.theme-black-yellow *:focus-visible {
  outline: 4px solid #000000 !important;
  outline-offset: 4px !important;
}

/* -----------------------------------------------------------
   TRYB 3: CZARNY NA BIAŁYM (theme-black-white)
----------------------------------------------------------- */
body.theme-black-white {
  background-color: #ffffff !important;
  color: #000000 !important;
}

body.theme-black-white * {
  background-color: #ffffff !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* Focus */
body.theme-black-white *:focus-visible {
  outline: 4px solid #000000 !important;
  outline-offset: 4px !important;
}


/* ==========================================================================
   HARD OVERRIDES FOR WCAG BUTTON (NAPRAWA IKONY)
   To gwarantuje, że przycisk kontrastu jest zawsze widoczny!
   ========================================================================== */

/* 1. Domyślny wygląd (theme-normal) */
body:not(.theme-normal) .wcag-btn {
  /* Resetujemy style Tailwinda */
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;

  /* Kluczowe: Bierzemy kolor od rodzica (czyli np. żółty na czarnym tle) */
  color: inherit !important;
}

/* Ikony wewnątrz przycisków */
body:not(.theme-normal) .wcag-btn svg {
  stroke: currentColor !important;
  color: inherit !important;
}

/* 2. EFEKT HOVER (Inwersja) */
/* Po najechaniu odwracamy kolory (np. z żółtego na czarnym robimy czarny na żółtym) */
body:not(.theme-normal) .wcag-btn:hover {
  background-color: currentColor !important;
  /* Tło bierze kolor tekstu */
  color: var(--bg-color-trick) !important;
  /* Tekst musi wziąć kolor tła strony (trik poniżej) */
  /* Alternatywnie, bezpieczniejsza inwersja filterem: */
  filter: invert(100%) !important;
}

/* 3. Wskaźnik poziomu (Literka A i kropki) */
body:not(.theme-normal) .wcag-indicator span {
  color: inherit !important;
}

/* Aktywne kropki w kontraście */
body:not(.theme-normal) .wcag-indicator .active-dot {
  background-color: currentColor !important;
}

/* Nieaktywne kropki w kontraście (lekko przezroczyste) */
body:not(.theme-normal) .wcag-indicator .inactive-dot {
  background-color: currentColor !important;
  opacity: 0.3 !important;
}

/* Separator pionowy */
body:not(.theme-normal) .separator {
  background-color: currentColor !important;
}

/* Disabled state */
body:not(.theme-normal) .wcag-btn:disabled {
  opacity: 0.3 !important;
  cursor: not-allowed;
  filter: none !important;
  /* Wyłącz hover effect */
}